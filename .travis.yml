language: python
python:
- '2.7'
- '3.6'
install:
- pip install -e .[test]
- pip install -e .
script: py.test --cov=. --cov-report term-missing
notifications:
  email: false
  slack:
    rooms:
    - secure: R8rDp7cXw0h40KKgUSg/VlZsf8y5FkqzcR06HpgN/OCOmtp1tum+zsmO3kb1yjlmYcxsW3AqtZBvOVmKsTeHfAJgt9uKvoW770kGXRPnCpqpJ6eCs47sOTNrwyUJIOwyFbZKFicgeFygIjnU5sL7NWMC8ZE/bGWMXjpbzx4jXYgwQrSbY5kIoH+aZXg4UyVczX6vv/7ItE4VhxPMMI+eRC/sqK3A/fbRvDnwyWnwRfNnQhfG5bCMFgF1TEKsHBt3SZjPTqr1WGn8B8loVLOw1LVpmBWBNOy0hUiSGq5ZZ8ZNOvJa3Nuno3+6TfmB0r/jmg2CgARdLkGhjtVbhsRIpT4SbEppo66LEUFhhuWmi9Y0G2sbV2HjKFUw0cCX7zezH/d8h2BeNyfSZ0gYKC1OWnnlY8d+mcVZLmd3V46YUM/rplVZMlE0jxPrF6aS6ePtDh694tgLEHBgSExDzqNMeACYjM674X6rKoOcX34pHu3MegnA8s7TUB1d4RexS2IsHB4cPurR4wcdAKIAqpFO3u07Ab0TxV0YuJuiwS2r3cckFsf107T7uT8TPRxfUv57Qncdd2XomS6+VsE6TIfyfgDnkoIoADUG+625V1EXiYnsUUCTrcdkr2HkGXBRxqY8B7t76tEe6IryoG4yl6uiOG3afqaOJjKedHEvf4K2+Sc=
    only: master
    on_success: never
    on_failure: never
    template:
    - Build <%{build_url}|#%{build_number}> (<%{compare_url}|%{commit}>) of %{repository_slug}@%{branch}%{result}
env:
  global:
  - CI=true
  matrix:
  - TEST_DOC=true
  - secure: HEyPA5Aa8v0FY2EcfnqwimcZoXLlSUUGyV7h4AoA8y/qAxHzdYLcmWyBG7Xwa8PKxD/mXreti4lITJv6WNxX2LuJEt47joQtAyImgy6Mu3gXbDt7Jn7p/DVRuFbEuMeSSxgRHqLwg6lSTF4umOktp5W+qZYVIcfYRYLg0YFJOesBppbBhZzI8r6eV0l2CFBi8FmA8scdyGkEG/5kgIc+P9fdxF9YQRTpGkBIW/XzgljzaNRwK8uiXw6Xz3eu/ZualWiJHM0Mf2TwBxvgydC8IGWJgJ7xOr08JrEBvUT2CeQD4s/VnlqwfOpj5TN1ckZ5vcxIfWmRQttIxFxuBLkzTSncjhS4ee1NKN3zo+6eek+MkSqWtTnpCnX2DP5N+UfzRmuJNigMqYxy4ZIFn5QShrg849NuAIB9tSq9fK5Sk7mw+9XHLAAJX6V6h9q/zQr60e1BkL/dlBURxumKW6QqaI4dflp7HtiFoxPsflsksAnDqqi/ojJ3rub7fdad9yC+VWb6FXA1Ir0UTAFx2OAGDO0mHrNS1kxDOHdUjmcGNo6gO4oYylDAo4drmBbX+pH33M+eUhLKqErYYuW9YZZArUg+tXELkZgFJQocLeSg4hnObcvGLo57TlRNmbI0ufJca17gML2Hk2KHYhAH5hB5YqHX0IZGoNkAP2TsO6aN7sk=
  - secure: REQHPW54bqnrMTk5BvVyH50MQx038RftrpSxqfTPnnQ3My0IFGxIlsgakFaiA5FS7ufgH1zVmhKop+Rf8YrdbK99EtHeT0GR1SqaXSeuthCRoOMfxk8bjyjXunFBRkrPey3WwglKy/67V93RWs3Ka6ky671vecrD2RaqMd9fYKb3VbsTPkmHS+LHRMCK8knADPVop49kuhrzIQ1xWiJOC0uIOmtq/YMF83YDaGBQBadREZfsc28zVwn2RL5g6ekpDiiqPA0iko8ugGqZGyOxqV6WUB7oZeIROth17SdJboYQ2UhAt3sgh1wa97LZYLMq3r/fqKxN5GJE0uNna9UdclJSjMa3o5fbUKQmz4Z1eOQXrAh9W422K726EsS8vlt6Zrz3wO+oPNIwqYz9Df5cK/tm9v2gsHtSl6lJ9y3npufWLAiXwCe5R5t7QbBiExepaknD8U6iLOXo0QAW3jhyN6JXAo+umD5r5YaOaBGTbGkCfjkcQqdGt4oJ9y9f45d6KFz+Y9sVo1egxxxfBcRzK0qohOSwmWnW4qInL/+2eOtKA0lyX4D9VCxYohMLJULhnsyWT4Id0napkK7W9StH3Cp0maAnicgBixY2O1G0bUDxfWhzPG2Z4+8o5vo8NM1aJ5IdmbzvOYHJrv914hRkQ+PiSPumc2oR2RUBHWJ1t4k=
deploy:
  provider: pypi
  user: Avalara
  password:
    secure: H4MQ6af8IdGleXgbvItT8Od708LR5nVeFS2KSk4xVC89NPXpfkWsBHMTZ/DgdaIHsoRAIzmFU+wwaz1p7gmTcoH0S/EbG+kBNlSrsgzkvntFQdQnDolkTozRkUUhMeS4MxwoSb/hrSByJcgp2rDhAcTAw22SJQ6zDArhPnTUWnWxkq1xmCHKi8r835iQcJu5jIYV+ePhrsc7v9MbHCj148NRjyfLpuSsJTF4vmD551dbvGjR0x6hxU06DZN++SQfNX3EkolRzuvemeAleWWlK54oI+OuQPLmtNlehPX1IkqfCCDC9Txvcl6nyDNATumnMvt2xtuAHyCYiLAUKTYYwtsYPOzwTDcEcR6mgNeN6KvPCLekngX25sNx4wBAKnKwT0L+2Uf9tH5rQntpw4OA8LVfGQZrxTnvn96KZ36Ga1siFu02p8HH2EykpZd7pfiamCrrRGVKE8Ttamm0BqKK2+2q01Eq2c5md8YkS3UE3K/3Cffpv1gJtWH1p6rM5I+KLN3J4WMxU3TVmRKQJho6y095Hj2DlHFAuiF/N8k266P7lnGKLmmj8q1o1HPanT/mDokY+0D1sTQf7It4HGhcLzObDp8PvOHncBBWH/tRdq3dKxVjnY6q3KVcPwRqUhOlVSUagW1tOYCk49sEbuE93/FyYqILHLypAqckVmrEJKY=
  on:
    branch: master
    python: 3.6
